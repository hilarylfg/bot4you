@keyframes dropdown-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes dropdown-fade-out {
  from { opacity: 1; }
  to { opacity: 0; }
}
@keyframes dropdown-zoom-in {
  from { transform: scale(0.95); }
  to { transform: scale(1); }
}
@keyframes dropdown-zoom-out {
  from { transform: scale(1); }
  to { transform: scale(0.95); }
}
@keyframes dropdown-slide-in-from-top {
  from { transform: translateY(-8px); }
  to { transform: translateY(0); }
}
@keyframes dropdown-slide-in-from-bottom {
  from { transform: translateY(8px); }
  to { transform: translateY(0); }
}
@keyframes dropdown-slide-in-from-left {
  from { transform: translateX(-8px); }
  to { transform: translateX(0); }
}
@keyframes dropdown-slide-in-from-right {
  from { transform: translateX(8px); }
  to { transform: translateX(0); }
}

.dropdown-menu-content {
  z-index: 50;
  min-width: 8rem;
  max-height: var(--radix-dropdown-menu-content-available-height);
  overflow: auto;
  border-radius: var(--border-radius);
  padding: 0.25rem;
  border: 1px solid var(--ring);
  background-color: var(--bg-primary);
  color: var(--text-primary);
  box-shadow: var(--shadow-md);
  transform-origin: var(--radix-dropdown-menu-content-transform-origin);

  &[data-state="open"] {
    animation: dropdown-fade-in 100ms ease-out, dropdown-zoom-in 100ms ease-out;
  }
  &[data-state="closed"] {
    animation: dropdown-fade-out 100ms ease-in, dropdown-zoom-out 100ms ease-in;
  }
  &[data-side="top"] { animation-name: dropdown-fade-in, dropdown-zoom-in, dropdown-slide-in-from-bottom; }
  &[data-side="bottom"] { animation-name: dropdown-fade-in, dropdown-zoom-in, dropdown-slide-in-from-top; }
  &[data-side="left"] { animation-name: dropdown-fade-in, dropdown-zoom-in, dropdown-slide-in-from-right; }
  &[data-side="right"] { animation-name: dropdown-fade-in, dropdown-zoom-in, dropdown-slide-in-from-left; }

  &--sub {
    box-shadow: var(--shadow-lg);
  }
}

.dropdown-menu-item {
  position: relative;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  border-radius: 4px;
  padding: 0.375rem 0.5rem;
  font-size: 0.875rem;
  outline: none;
  user-select: none;
  cursor: default;

  svg {
    pointer-events: none;
    flex-shrink: 0;
    height: 1rem;
    width: 1rem;
    &:not([class*='text-']) {
      color: var(--text-muted);
    }
  }

  &:focus,
  &[data-highlighted] {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
  }
  &[data-disabled] {
    pointer-events: none;
    opacity: 0.5;
  }

  &--inset {
    padding-left: 2rem;
  }

  &--destructive {
    color: var(--error);
    svg {
      color: var(--error) !important;
    }
    &:focus,
    &[data-highlighted] {
      background-color: rgba(239, 68, 68, 0.1);
      color: var(--error);

      [data-theme="dark"] & {
        background-color: rgba(239, 68, 68, 0.2);
      }
    }
  }

  &--checkbox,
  &--radio {
    padding-left: 2rem;
  }

  &--sub-trigger {
    &[data-state="open"] {
      background-color: var(--bg-tertiary);
      color: var(--text-primary);
    }
  }

  &__sub-chevron {
    margin-left: auto;
  }

  &__indicator-wrapper {
    pointer-events: none;
    position: absolute;
    left: 0.5rem;
    display: flex;
    height: 1.25rem;
    width: 1.25rem;
    align-items: center;
    justify-content: center;
  }

  &__indicator-icon {
    height: 1rem;
    width: 1rem;
    &--radio {
      height: 0.5rem;
      width: 0.5rem;
      fill: currentColor;
    }
  }
}

.dropdown-menu-label {
  padding: 0.375rem 0.5rem;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--text-secondary);
  &--inset {
    padding-left: 2rem;
  }
}

.dropdown-menu-separator {
  height: 1px;
  margin: 0.25rem -0.25rem;
  background-color: var(--ring);
}

.dropdown-menu-shortcut {
  margin-left: auto;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
  color: var(--text-muted);
}